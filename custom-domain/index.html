<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Custom Domains with Azure Container Registry | Azure Container Registry</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/acr/assets/css/0.styles.6109ffbd.css" as="style"><link rel="preload" href="/acr/assets/js/app.72437028.js" as="script"><link rel="preload" href="/acr/assets/js/2.abe4a776.js" as="script"><link rel="preload" href="/acr/assets/js/14.7c7cea5b.js" as="script"><link rel="prefetch" href="/acr/assets/js/10.29e034bd.js"><link rel="prefetch" href="/acr/assets/js/11.2306866a.js"><link rel="prefetch" href="/acr/assets/js/12.8a0e2aa4.js"><link rel="prefetch" href="/acr/assets/js/13.c5c29482.js"><link rel="prefetch" href="/acr/assets/js/15.e893a25f.js"><link rel="prefetch" href="/acr/assets/js/16.7fbd1c37.js"><link rel="prefetch" href="/acr/assets/js/17.7b4ca9be.js"><link rel="prefetch" href="/acr/assets/js/18.00f91bd2.js"><link rel="prefetch" href="/acr/assets/js/19.cc15f323.js"><link rel="prefetch" href="/acr/assets/js/20.1d931ca0.js"><link rel="prefetch" href="/acr/assets/js/21.8bd98f6d.js"><link rel="prefetch" href="/acr/assets/js/22.b042e698.js"><link rel="prefetch" href="/acr/assets/js/23.ce60b122.js"><link rel="prefetch" href="/acr/assets/js/24.49c04d3d.js"><link rel="prefetch" href="/acr/assets/js/25.d73c849d.js"><link rel="prefetch" href="/acr/assets/js/26.8a4eb5f3.js"><link rel="prefetch" href="/acr/assets/js/27.74697b61.js"><link rel="prefetch" href="/acr/assets/js/28.c647ac2e.js"><link rel="prefetch" href="/acr/assets/js/29.807b58b9.js"><link rel="prefetch" href="/acr/assets/js/3.dc7b599c.js"><link rel="prefetch" href="/acr/assets/js/30.f9734c82.js"><link rel="prefetch" href="/acr/assets/js/31.f95e37b2.js"><link rel="prefetch" href="/acr/assets/js/32.b01df464.js"><link rel="prefetch" href="/acr/assets/js/33.16624aab.js"><link rel="prefetch" href="/acr/assets/js/34.f62ff759.js"><link rel="prefetch" href="/acr/assets/js/35.19456f29.js"><link rel="prefetch" href="/acr/assets/js/4.85c29c20.js"><link rel="prefetch" href="/acr/assets/js/5.7b12d3a2.js"><link rel="prefetch" href="/acr/assets/js/6.8358fbe8.js"><link rel="prefetch" href="/acr/assets/js/7.dc32a1c7.js"><link rel="prefetch" href="/acr/assets/js/8.525ca08d.js"><link rel="prefetch" href="/acr/assets/js/9.ac9d72fd.js">
    <link rel="stylesheet" href="/acr/assets/css/0.styles.6109ffbd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/acr/" class="home-link router-link-active"><img src="/acr/files/acr.svg" alt="Azure Container Registry" class="logo"> <span class="site-name can-hide">Azure Container Registry</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/azure/acr" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/azure/acr" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/acr/" aria-current="page" class="sidebar-link">Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/acr/#blog-posts" class="sidebar-link">Blog posts</a></li><li class="sidebar-sub-header"><a href="/acr/#links" class="sidebar-link">Links</a></li><li class="sidebar-sub-header"><a href="/acr/#providing-feedback" class="sidebar-link">Providing feedback</a></li><li class="sidebar-sub-header"><a href="/acr/#api-and-sdk-reference" class="sidebar-link">API and SDK reference</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Teleport</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tasks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Authentication</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Integration</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="using-custom-domains-with-azure-container-registry"><a href="#using-custom-domains-with-azure-container-registry" class="header-anchor">#</a> Using Custom Domains with Azure Container Registry</h1> <p>Every ACR is accessed using its login server. If you have a registry called <code>myregistry</code>, you access it using its default hostname, <code>myregistry.azurecr.io</code> (in Azure Public Cloud.) As a customer belonging to an organization, you may prefer to access your registry using a custom domain that is associated with your organization, for instance, <code>container-registry.contoso.com</code>.</p> <p>The following steps describe how you can achieve this.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <ul><li><p><a href="https://docs.microsoft.com/cli/azure/?view=azure-cli-latest" target="_blank" rel="noopener noreferrer">Azure CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: version 2.4.0 or higher</p> <ul><li>Consider using <a href="https://docs.microsoft.com/azure/cloud-shell/overview" target="_blank" rel="noopener noreferrer">Azure Cloud Shell<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p>A <em>premium</em> Azure Container Registry. See <a href="https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for instructions on how to create one.</p></li> <li><p>Your custom domain names. The following two are required:</p> <ul><li>Custom registry domain to access the registry REST API. Example for the <code>contoso.com</code> domain: <code>container-registry.contoso.com</code></li> <li>Custom data domain to access the registry content. Again, example for <code>contoso.com</code>: <code>eastus-registry-data.contoso.com</code> <ul><li>Note that the custom data domain is region specific. For geo-replicated registries, each region should have its own custom data endpoint.</li></ul></li></ul> <p>For each domain, you must prepare a single PEM formatted file containing the TLS private key and public certificate:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>-----BEGIN PRIVATE KEY-----  
.....  
-----END PRIVATE KEY-----  
-----BEGIN CERTIFICATE-----  
.....  
-----END CERTIFICATE-----
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>For example, using <a href="https://github.com/openssl/openssl" target="_blank" rel="noopener noreferrer">openssl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <ul><li>Create a self-signed public cert and private key<div class="language-shell line-numbers-mode"><pre class="language-shell"><code>openssl req -nodes -x509 -newkey rsa:4096 <span class="token punctuation">\</span>
  -keyout container-registry.contoso.com.key.pem <span class="token punctuation">\</span>
  -out container-registry.contoso.com.cert.pem -days <span class="token number">365</span> <span class="token punctuation">\</span>
  -subj <span class="token string">'/CN=container-registry.contoso.com/O=Contoso./C=US'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>Create a single file containing both the public certificate and private key<div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> container-registry.contoso.com.key.pem <span class="token punctuation">\</span>
  <span class="token operator">&gt;&gt;</span> container-registry-contoso-com-pem
<span class="token function">cat</span> container-registry.contoso.com.cert.pem <span class="token punctuation">\</span>
  <span class="token operator">&gt;&gt;</span> container-registry-contoso-com-pem
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>For each data domain, follow the same steps above to prepare the PEM formatted files containing the public certificate and private key.</li></ul> <p>Azure Key Vault allows you to <a href="https://docs.microsoft.com/azure/key-vault/certificate-scenarios" target="_blank" rel="noopener noreferrer">create<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Certificate Authority (CA) signed certificates.</p> <ul><li>If you choose to use the Azure Portal to create the certificates, be sure to select certificate content type as PEM.</li></ul></li></ul> <h2 id="prepare-your-existing-registry"><a href="#prepare-your-existing-registry" class="header-anchor">#</a> Prepare your existing registry</h2> <p>We will enable two features on your registry:</p> <ul><li><p>Data Endpoints:<br>
This feature provides a dedicated endpoint for downloading content from your registry. If you have a registry in East US, on enabling this feature, a data endpoint is automatically created for you: <code>myregistry.eastus.data.azurecr.io</code></p></li> <li><p>ACR Managed Identities:<br>
Managed Identities provide a mechanism to associate an Azure Active Directory identity with your registry, while relieving you of the burden of managing credentials. To learn more, see the documentation <a href="https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.<br>
ACR supports both user assigned and system assigned managed identities.</p></li></ul> <h3 id="enable-data-endpoints-and-managed-idenitites"><a href="#enable-data-endpoints-and-managed-idenitites" class="header-anchor">#</a> Enable data endpoints and managed idenitites</h3> <ol><li><code>az login</code></li> <li><code>az account set -s &lt;subscription-id-or-name&gt;</code></li> <li><code>az acr update --data-endpoint-enabled true -n myregistry</code></li> <li>You can either enable a system assigned managed identity, a user assigned managed identity, or both for your registry. We recommend using system assigned managed identity to enable advanced scenarios with virtual networks that, although not supported currently, are <a href="#enhanced-security-with-virtual-networks">coming soon</a>. Do <em>one</em> of the following:
<ul><li>To enable only system assigned managed identity:
<ul><li><code>az acr identity assign -n myregistry --identities [system]</code></li></ul></li> <li>To enable user assigned managed identity, with or without a system identity:
<ul><li>Create a user assigned managed identity following the instructions <a href="https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/how-to-manage-ua-identity-portal" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>Do <em>one</em> of the following:
<ul><li>To enable <em>only</em> user assigned managed identity:
<ul><li><code>az acr identity assign -n myregistry --identities &quot;&lt;arm-resource-id-of-user-assigned-identity&gt;&quot;</code></li></ul></li> <li>To enable <em>both</em> user and system assigned managed identities:
<ul><li><code>az acr identity assign -n myregistry --identities &quot;&lt;arm-resource-id-of-user-assigned-identity&gt;&quot; [system]</code></li></ul></li></ul></li></ul></li></ul></li></ol> <h2 id="prepare-your-azure-key-vault"><a href="#prepare-your-azure-key-vault" class="header-anchor">#</a> Prepare your Azure Key Vault</h2> <p>For each domain, its TLS private key and public certificate pair must be added to an Azure Key Vault that is accessible by your registry as a single PEM formatted file. We recommend creating a new key vault containing only your TLS certificates and granting the registry's identity access to <code>get</code> secret.</p> <ol><li><a href="https://docs.microsoft.com/azure/key-vault/" target="_blank" rel="noopener noreferrer">Create<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> a new Azure Key Vault.</li> <li><a href="https://docs.microsoft.com/azure/key-vault/certificate-scenarios" target="_blank" rel="noopener noreferrer">Add<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> your certificates to the key vault.</li> <li>Add an access policy to the key vault that grants your registry's identity access to <code>get</code> secret:<br> <code>az keyvault set-policy --name &lt;your-kv-name&gt; --secret-permissions get --spn &lt;registry-system-or-user-mi-principal-id&gt;</code> <ul><li>The output of the command to enable managed identities on the registry will contain the principal ids of the assiged identities.</li> <li>Alternatively, you may obtain the principal ids using <code>az cli</code>:
<ul><li>For system assigned managed identity:
<ul><li><code>az acr show -n myregistry --query identity.principalId -o tsv</code></li></ul></li> <li>For user assigned managed identities, you may list them as follows and use the desired principal ID:
<ul><li><code>az acr show -n myregistry --query identity.userAssignedIdentities</code></li></ul></li></ul></li></ul></li></ol> <p>For greater isolation, we recommend that you put each certificate in its own key vault and set its access policy independently. The registry should always have access to the key vault secrets.</p> <h3 id="enhanced-security-with-virtual-networks"><a href="#enhanced-security-with-virtual-networks" class="header-anchor">#</a> Enhanced security with Virtual Networks</h3> <p>Azure Key Vault allows you to <a href="https://docs.microsoft.com/azure/key-vault/key-vault-overview-vnet-service-endpoints" target="_blank" rel="noopener noreferrer">restrict access<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to specific virtual networks only. ACR custom domains are currently <em>not supported</em> where key vault access is restricted, but this is work in progress and will be available with system managed identities only.</p> <h2 id="prepare-your-dns-zone"><a href="#prepare-your-dns-zone" class="header-anchor">#</a> Prepare your DNS zone</h2> <ol><li>The custom registry domain must have a CNAME record with the target registry login server:<br> <code>container-registry.contoso.com</code> --&gt; <code>myregistry.azurecr.io</code></li> <li>The regional custom data domain must have a CNAME record with the target regional registry data endpoint:<br> <code>eastus-registry-data.contoso.com</code> --&gt; <code>myregistry.eastus.data.azurecr.io</code> <ul><li>The output of the command to enable data endpoints on the registry will contain the regional data endpoint.</li></ul></li></ol> <h2 id="contact-us"><a href="#contact-us" class="header-anchor">#</a> Contact us</h2> <p>As a final step, share the following with us by creating a support ticket (<a href="https://azure.microsoft.com/support/create-ticket/" target="_blank" rel="noopener noreferrer">Azure Support<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):</p> <ul><li>Custom registry domain details
<ul><li>custom registry domain (<code>container-registry.contoso.com</code>)</li> <li>key vault secret ID of the corresponding TLS data</li> <li>client ID of the user assigned registry identity that has access to this secret (not required in case of system assigned)</li></ul></li> <li>Custom data domain details
<ul><li>regional custom data domain (<code>eastus-registry-data.contoso.com</code>)</li> <li>key vault secret ID of the corresponding TLS data</li> <li>client ID of the user assigned registry identity that has access to this secret (not required in case of system assigned)</li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azure/acr/edit/master/docs/custom-domain/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/acr/assets/js/app.72437028.js" defer></script><script src="/acr/assets/js/2.abe4a776.js" defer></script><script src="/acr/assets/js/14.7c7cea5b.js" defer></script>
  </body>
</html>
